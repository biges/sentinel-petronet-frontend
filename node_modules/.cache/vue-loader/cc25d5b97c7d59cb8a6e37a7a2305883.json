{"remainingRequest":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/halilibrahimguneri/Biges/sentinel-frontend/src/components/dashboard/tracked-device-filter.vue?vue&type=style&index=0&id=3e5d19d1&lang=scss&scoped=true&","dependencies":[{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/src/components/dashboard/tracked-device-filter.vue","mtime":1635753564602},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKQGltcG9ydCAiQC9hc3NldHMvc2Nzcy9zdHlsZS5zY3NzIjsKLnRyYWNrZWQtZmlsdGVyLWNvbnRlbnQgewogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjsKICBmbGV4LXdyYXA6IG5vd3JhcDsKICBwYWRkaW5nOiAxNXB4OwogIC5fX2FjdGlvbiB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwogICAgYWxpZ24tY29udGVudDogY2VudGVyOwogICAgZmxleC13cmFwOiBub3dyYXA7CiAgfQoKICAudHJhY2tlZC1kZXZpY2UtdGl0bGUgewogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBzdHJldGNoOwogICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsKICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjsKICAgIGZvbnQtZmFtaWx5OiBSb2JvdG8sIHNhbnMtc2VyaWY7CiAgICBmb250LXN0eWxlOiBub3JtYWw7CiAgICBmb250LXdlaWdodDogbm9ybWFsOwogICAgZm9udC1zaXplOiAyNHB4OwogICAgbGluZS1oZWlnaHQ6IDI4cHg7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKCiAgICAvKiBHcmF5IERhcmsgKi8KCiAgICBjb2xvcjogIzQ0NDQ0NDsKICB9CiAgLmlucHV0LWZpbHRlciB7CiAgICBAZXh0ZW5kIC5zZW50aW5lbC1pbnB1dDsKICAgIG1heC13aWR0aDogMTk2cHggIWltcG9ydGFudDsKICAgIGhlaWdodDogNTBweDsKICAgIG1hcmdpbi1yaWdodDogMTVweCAhaW1wb3J0YW50OwogIH0KICAuZWwtYnV0dG9uIC5lbC1idXR0b24tLWRlZmF1bHQgewogICAgJjpob3ZlciB7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDdkYjc7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["tracked-device-filter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tracked-device-filter.vue","sourceRoot":"src/components/dashboard","sourcesContent":["<template>\n  <div class=\"tracked-filter-content\">\n    <span class=\"tracked-device-title\">Takip Edilen Cihazlar</span>\n    <div class=\"__action\">\n      <el-autocomplete\n        class=\"input-filter\"\n        v-model=\"search_key\"\n        :fetch-suggestions=\"querySearch\"\n        placeholder=\"ID Giriniz\"\n        :trigger-on-focus=\"false\"\n        @select=\"handleSelect\"\n      ></el-autocomplete>\n      <el-button @click=\"onSubmit\">\n        <img src=\"@/assets/icons/dashboard/svg-icon-add.svg\" alt=\"Ekle\" />\n      </el-button>\n      <el-button :disabled=\"isSelected\" @click=\"deleteButton\">\n        <SvgIconDelete :status=\"isSelected\"></SvgIconDelete>\n      </el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nimport SvgIconDelete from \"@/assets/icons/dashboard/svg-icon-delete.vue\";\nexport default {\n  name: \"TrackedDeviceFilter\",\n  components: { SvgIconDelete },\n  data() {\n    return {\n      search_key: \"\",\n      search_ids: null,\n      selected_premise: null,\n    };\n  },\n  computed: {\n    getSelectedRows() {\n      return this.$store.state.dataTable.selectedRows;\n    },\n    isSelected() {\n      return !(this.$store.state.dataTable.selectedRows.length > 0);\n    },\n  },\n  methods: {\n    ...mapActions({\n      getFilterPremises: \"premise/getFilterPremises\",\n      updateDevice: \"device/updateDevice\",\n      getProsecDevicesByFilter: \"device/getProsecDevicesByFilter\",\n      getProsecDeviceById: \"device/getProsecDeviceById\",\n    }),\n    onSubmit() {\n      console.log(this.selected_premise);\n      let new_tracked_device = this.updateDevice(this.selected_premise);\n      new_tracked_device.then((r) => {\n        // if (r.status) {\n        console.log(r);\n        this.$emit(\"onCreateTrackedPremise\");\n        this.search_key = \"\";\n        // }\n      });\n    },\n    deleteButton() {\n      if (this.getSelectedRows.length > 0) {\n        this.getSelectedRows.forEach((item) => {\n          console.log(item);\n          let un_tracked_payload = null;\n          let un_tracked_device = this.getProsecDeviceById(item.id);\n\n          un_tracked_device.then((r) => {\n            un_tracked_payload = { ...r, is_tracked: false };\n            let delete_tracked_device = this.updateDevice({\n              ...un_tracked_payload,\n            });\n            delete_tracked_device.then((r) => {\n              console.log(\"UntrackedDevice\", r);\n              this.$emit(\"onCreateTrackedPremise\");\n            });\n          });\n        });\n      }\n      /*\n        Burada Takip edilen cihazlardan\n        Çıkış Endpointine gidilecek ...\n     */\n    },\n    querySearch(queryString, cb) {\n      if (queryString.length > 0) {\n        this.handleOnChange(queryString);\n      } else {\n        this.search_ids = [];\n      }\n      return cb(this.search_ids);\n    },\n    async handleOnChange(val) {\n      this.search_ids = [];\n      console.log(\"val\", val);\n      let device = this.getProsecDevicesByFilter({\n        page: 1,\n        limit: 5,\n        custom_premise_id: val,\n      });\n      device.then((r) => {\n        r.forEach((item) => {\n          let result = {\n            label: item.premise.custom_premise_id,\n            value: item.premise.custom_premise_id,\n            data: { ...item, is_tracked: true },\n          };\n          this.search_ids.push(result);\n        });\n      });\n    },\n    handleSelect(device) {\n      console.log(\"Device\", device);\n      let tracked_device = this.getProsecDeviceById(device.data.id);\n      tracked_device.then((r) => {\n        console.log(\"R\", r);\n        this.selected_premise = { ...r, is_tracked: true };\n      });\n    },\n  },\n  mounted() {},\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/scss/style.scss\";\n.tracked-filter-content {\n  display: flex;\n  align-items: stretch;\n  justify-content: space-between;\n  align-content: center;\n  flex-wrap: nowrap;\n  padding: 15px;\n  .__action {\n    display: flex;\n    align-items: stretch;\n    justify-content: flex-end;\n    align-content: center;\n    flex-wrap: nowrap;\n  }\n\n  .tracked-device-title {\n    display: flex;\n    align-items: stretch;\n    justify-content: flex-end;\n    align-content: center;\n    font-family: Roboto, sans-serif;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 24px;\n    line-height: 28px;\n    display: flex;\n    align-items: center;\n\n    /* Gray Dark */\n\n    color: #444444;\n  }\n  .input-filter {\n    @extend .sentinel-input;\n    max-width: 196px !important;\n    height: 50px;\n    margin-right: 15px !important;\n  }\n  .el-button .el-button--default {\n    &:hover {\n      background-color: #007db7;\n    }\n  }\n}\n</style>\n"]}]}