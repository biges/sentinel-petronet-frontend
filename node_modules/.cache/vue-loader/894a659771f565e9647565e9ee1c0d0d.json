{"remainingRequest":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/halilibrahimguneri/Biges/sentinel-frontend/src/views/Devices/Hap/device-detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/src/views/Devices/Hap/device-detail.vue","mtime":1639418467751},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZW50aW5lbE1vZGFsIGZyb20gJ0AvY29tcG9uZW50cy9tb2RhbC9zZW50aW5lbC1tb2RhbC52dWUnCmltcG9ydCBEZXZpY2VMYXN0U2lnbmFscyBmcm9tICdAL2NvbXBvbmVudHMvZGV2aWNlLWRldGFpbHMvaGFwL2RldmljZS1sYXN0LXNpZ25hbHMudnVlJwppbXBvcnQgRGV2aWNlRGV0YWlsc0hlYWRlciBmcm9tICdAL2NvbXBvbmVudHMvZGV2aWNlLWRldGFpbHMvZGV2aWNlLWRldGFpbHMtaGVhZGVyLnZ1ZScKaW1wb3J0IERldmljZURldGFpbHNUaXRsZSBmcm9tICdAL2NvbXBvbmVudHMvZGV2aWNlLWRldGFpbHMvZGV2aWNlLWRldGFpbHMtdGl0bGUudnVlJwppbXBvcnQgRGV2aWNlRGV0YWlsc0NvbnRlbnQgZnJvbSAnQC9jb21wb25lbnRzL2RldmljZS1kZXRhaWxzL2RldmljZS1kZXRhaWxzLWNvbnRlbnQudnVlJwppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCcKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdEZXZpY2VEZXRhaWwnLAogIGNvbXBvbmVudHM6IHsKICAgIERldmljZURldGFpbHNIZWFkZXIsCiAgICBEZXZpY2VEZXRhaWxzVGl0bGUsCiAgICBEZXZpY2VEZXRhaWxzQ29udGVudCwKICAgIERldmljZUxhc3RTaWduYWxzLAogICAgU2VudGluZWxNb2RhbAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRldmljZV9pZDogbnVsbCwKICAgICAgZGF0YTogW10sCiAgICAgIHByZW1pc2U6IHt9LAogICAgICBpc19sYXN0X3NpZ25hbHM6IGZhbHNlLAogICAgICBmaWx0ZXJlZF9kYXRhOiB7fSwKICAgICAgbW9kYWxfdmlzaWJsZTogZmFsc2UKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0xhc3RTaWduYWxzKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUucGF0aC5zcGxpdCgnLycpLmluY2x1ZGVzKCdsYXN0LXNpZ25hbHMnKQogICAgfSwKICAgIGdldFJvdXRlRm9yQ2xhc3M6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCF0aGlzLiRyb3V0ZS5wYXRoLnNwbGl0KCcvJykuaW5jbHVkZXMoJ2xhc3Qtc2lnbmFscycpKSB7CiAgICAgICAgcmV0dXJuICdkZXRhaWxzLWNvbnRlbnQnCiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICdkZXRhaWxzLWxhc3Qtc2lnbmFscy1jb250ZW50JwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKHsKICAgICAgZ2V0UHJvc2VjRGV2aWNlQnlJZDogJ2RldmljZS9nZXRQcm9zZWNEZXZpY2VCeUlkJywKICAgICAgZ2V0UHJvc2VjRGV2aWNlTGFzdFNpZ25hbHM6ICdkZXZpY2UvZ2V0UHJvc2VjRGV2aWNlTGFzdFNpZ25hbHMnLAogICAgICBkb3dubG9hZFByb3NlY0RldmljZUxhc3RTaWduYWxzOiAnZGV2aWNlL2Rvd25sb2FkUHJvc2VjRGV2aWNlTGFzdFNpZ25hbHMnCiAgICB9KSwKICAgIGhhbmRsZU1vZGFsQ2xvc2UodmFsKSB7CiAgICAgIHRoaXMubW9kYWxfdmlzaWJsZSA9IHZhbAogICAgfSwKICAgIG9wZW5Nb2RhbCh2YWwpIHsKICAgICAgdGhpcy5tb2RhbF92aXNpYmxlID0gdmFsCiAgICB9LAogICAgaGFuZGxlRmlsdGVyZWREYXRhKHZhbCkgewogICAgICB0aGlzLmZpbHRlcmVkX2RhdGEgPSB2YWwKICAgIH0sCiAgICBoYW5kbGVEb3dubG9hZFNpZ25hbHNIaXN0b3J5KCkgewogICAgICBsZXQgZG93bmxvYWRfZmlsZSA9IHRoaXMuZG93bmxvYWRQcm9zZWNEZXZpY2VMYXN0U2lnbmFscygKICAgICAgICB0aGlzLmZpbHRlcmVkX2RhdGEKICAgICAgKQogICAgICBkb3dubG9hZF9maWxlLnRoZW4oKHIpID0+IHsKICAgICAgICBsZXQgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpCiAgICAgICAgY29uc3QgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3JdKSkKICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpCiAgICAgICAgbGluay5ocmVmID0gdXJsCiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoCiAgICAgICAgICAnZG93bmxvYWQnLAogICAgICAgICAgJ0NpaGF6LUdlY21pxZ8tU2lueWFsbGVyaS0nICsKICAgICAgICAgICAgY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKSArCiAgICAgICAgICAgICgnMCcgKyAoY3VycmVudERhdGUuZ2V0TW9udGgoKSArIDEpKS5zbGljZSgtMikgKwogICAgICAgICAgICAoJzAnICsgY3VycmVudERhdGUuZ2V0RGF0ZSgpKS5zbGljZSgtMikgKwogICAgICAgICAgICAoJzAnICsgY3VycmVudERhdGUuZ2V0SG91cnMoKSkuc2xpY2UoLTIpICsKICAgICAgICAgICAgKCcwJyArIGN1cnJlbnREYXRlLmdldE1pbnV0ZXMoKSkuc2xpY2UoLTIpICsKICAgICAgICAgICAgKCcwJyArIGN1cnJlbnREYXRlLmdldFNlY29uZHMoKSkuc2xpY2UoLTIpICsKICAgICAgICAgICAgJy54bHN4JwogICAgICAgICkKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspCiAgICAgICAgbGluay5jbGljaygpCiAgICAgIH0pCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5kZXZpY2VfaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuZGV2aWNlX2lkCiAgICBsZXQgZGV2aWNlID0gdGhpcy5nZXRQcm9zZWNEZXZpY2VCeUlkKHRoaXMuZGV2aWNlX2lkKQogICAgZGV2aWNlLnRoZW4oKHIpID0+IHsKICAgICAgdGhpcy5kYXRhID0gcgogICAgfSkKICAgIGlmICh0aGlzLmlzTGFzdFNpZ25hbHMpIHsKICAgICAgdGhpcy5nZXRQcm9zZWNEZXZpY2VTaWduYWxzSGlzdG9yeSh7CiAgICAgICAgZGV2aWNlX2lkOiB0aGlzLmRldmljZV9pZAogICAgICB9KQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIC8vIGlmICh0aGlzLmlzTGFzdFNpZ25hbHMpIHsKICAgIC8vICAgbGV0IGRldmljZV9zaWduYWxzID0gdGhpcy5nZXRQcm9zZWNEZXZpY2VMYXN0U2lnbmFscyh7CiAgICAvLyAgICAgZGV2aWNlX2lkOiB0aGlzLmRldmljZV9pZCwKICAgIC8vICAgfSk7CiAgICAvLyAgIGRldmljZV9zaWduYWxzLnRoZW4oKHIpID0+IHsKICAgIC8vICAgICB0aGlzLmRhdGEgPSByOwogICAgLy8gICB9KTsKICAgIC8vIH0KICB9Cn0K"},{"version":3,"sources":["device-detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"device-detail.vue","sourceRoot":"src/views/Devices/Hap","sourcesContent":["<template>\n  <div :class=\"getRouteForClass\">\n    <DeviceDetailsHeader :premise_information=\"data\"></DeviceDetailsHeader>\n    <DeviceDetailsTitle\n      @onDownloadSignalsHistory=\"handleDownloadSignalsHistory\"\n      @onServiceModal=\"openModal\"\n    ></DeviceDetailsTitle>\n    <DeviceLastSignals\n      v-if=\"isLastSignals\"\n      @filterData=\"handleFilteredData\"\n    ></DeviceLastSignals>\n    <DeviceDetailsContent v-else :data=\"data\"></DeviceDetailsContent>\n    <SentinelModal\n      @onClose=\"handleModalClose\"\n      :drawer=\"modal_visible\"\n      :type=\"'service'\"\n    ></SentinelModal>\n  </div>\n</template>\n\n<script>\nimport SentinelModal from '@/components/modal/sentinel-modal.vue'\nimport DeviceLastSignals from '@/components/device-details/hap/device-last-signals.vue'\nimport DeviceDetailsHeader from '@/components/device-details/device-details-header.vue'\nimport DeviceDetailsTitle from '@/components/device-details/device-details-title.vue'\nimport DeviceDetailsContent from '@/components/device-details/device-details-content.vue'\nimport { mapActions } from 'vuex'\nexport default {\n  name: 'DeviceDetail',\n  components: {\n    DeviceDetailsHeader,\n    DeviceDetailsTitle,\n    DeviceDetailsContent,\n    DeviceLastSignals,\n    SentinelModal\n  },\n  data() {\n    return {\n      device_id: null,\n      data: [],\n      premise: {},\n      is_last_signals: false,\n      filtered_data: {},\n      modal_visible: false\n    }\n  },\n  computed: {\n    isLastSignals() {\n      return this.$route.path.split('/').includes('last-signals')\n    },\n    getRouteForClass: function () {\n      if (!this.$route.path.split('/').includes('last-signals')) {\n        return 'details-content'\n      } else {\n        return 'details-last-signals-content'\n      }\n    }\n  },\n  methods: {\n    ...mapActions({\n      getProsecDeviceById: 'device/getProsecDeviceById',\n      getProsecDeviceLastSignals: 'device/getProsecDeviceLastSignals',\n      downloadProsecDeviceLastSignals: 'device/downloadProsecDeviceLastSignals'\n    }),\n    handleModalClose(val) {\n      this.modal_visible = val\n    },\n    openModal(val) {\n      this.modal_visible = val\n    },\n    handleFilteredData(val) {\n      this.filtered_data = val\n    },\n    handleDownloadSignalsHistory() {\n      let download_file = this.downloadProsecDeviceLastSignals(\n        this.filtered_data\n      )\n      download_file.then((r) => {\n        let currentDate = new Date()\n        const url = window.URL.createObjectURL(new Blob([r]))\n        const link = document.createElement('a')\n        link.href = url\n        link.setAttribute(\n          'download',\n          'Cihaz-GecmiÅŸ-Sinyalleri-' +\n            currentDate.getFullYear() +\n            ('0' + (currentDate.getMonth() + 1)).slice(-2) +\n            ('0' + currentDate.getDate()).slice(-2) +\n            ('0' + currentDate.getHours()).slice(-2) +\n            ('0' + currentDate.getMinutes()).slice(-2) +\n            ('0' + currentDate.getSeconds()).slice(-2) +\n            '.xlsx'\n        )\n        document.body.appendChild(link)\n        link.click()\n      })\n    }\n  },\n  created() {\n    this.device_id = this.$route.params.device_id\n    let device = this.getProsecDeviceById(this.device_id)\n    device.then((r) => {\n      this.data = r\n    })\n    if (this.isLastSignals) {\n      this.getProsecDeviceSignalsHistory({\n        device_id: this.device_id\n      })\n    }\n  },\n  mounted() {\n    // if (this.isLastSignals) {\n    //   let device_signals = this.getProsecDeviceLastSignals({\n    //     device_id: this.device_id,\n    //   });\n    //   device_signals.then((r) => {\n    //     this.data = r;\n    //   });\n    // }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.details-content {\n  display: flex;\n  flex-direction: column;\n  // justify-content: space-between;\n  padding: 0 36px 0 36px;\n  overflow: none;\n}\n.details-last-signals-content {\n  display: flex;\n  flex-direction: column;\n  // min-height: 100vh !important;\n\n  // justify-content: space-between;\n  padding: 0 0 0 13px;\n}\n.bottom {\n  padding: 34px;\n  min-height: 25px;\n  background: rgba(160, 160, 160, 0.1);\n}\n</style>\n"]}]}