{"remainingRequest":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/halilibrahimguneri/Biges/sentinel-frontend/src/views/Devices/Hap/device-detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/src/views/Devices/Hap/device-detail.vue","mtime":1635753564613},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZW50aW5lbE1vZGFsIGZyb20gIkAvY29tcG9uZW50cy9tb2RhbC9zZW50aW5lbC1tb2RhbC52dWUiOwppbXBvcnQgRGV2aWNlTGFzdFNpZ25hbHMgZnJvbSAiQC9jb21wb25lbnRzL2RldmljZS1kZXRhaWxzL2hhcC9kZXZpY2UtbGFzdC1zaWduYWxzLnZ1ZSI7CmltcG9ydCBEZXZpY2VEZXRhaWxzSGVhZGVyIGZyb20gIkAvY29tcG9uZW50cy9kZXZpY2UtZGV0YWlscy9kZXZpY2UtZGV0YWlscy1oZWFkZXIudnVlIjsKaW1wb3J0IERldmljZURldGFpbHNUaXRsZSBmcm9tICJAL2NvbXBvbmVudHMvZGV2aWNlLWRldGFpbHMvZGV2aWNlLWRldGFpbHMtdGl0bGUudnVlIjsKaW1wb3J0IERldmljZURldGFpbHNDb250ZW50IGZyb20gIkAvY29tcG9uZW50cy9kZXZpY2UtZGV0YWlscy9kZXZpY2UtZGV0YWlscy1jb250ZW50LnZ1ZSI7CmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJEZXZpY2VEZXRhaWwiLAogIGNvbXBvbmVudHM6IHsKICAgIERldmljZURldGFpbHNIZWFkZXIsCiAgICBEZXZpY2VEZXRhaWxzVGl0bGUsCiAgICBEZXZpY2VEZXRhaWxzQ29udGVudCwKICAgIERldmljZUxhc3RTaWduYWxzLAogICAgU2VudGluZWxNb2RhbCwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZXZpY2VfaWQ6IG51bGwsCiAgICAgIGRhdGE6IFtdLAogICAgICBwcmVtaXNlOiB7fSwKICAgICAgaXNfbGFzdF9zaWduYWxzOiBmYWxzZSwKICAgICAgZmlsdGVyZWRfZGF0YToge30sCiAgICAgIG1vZGFsX3Zpc2libGU6IGZhbHNlLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0xhc3RTaWduYWxzKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUucGF0aC5zcGxpdCgiLyIpLmluY2x1ZGVzKCJsYXN0LXNpZ25hbHMiKTsKICAgIH0sCiAgICBnZXRSb3V0ZUZvckNsYXNzOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghdGhpcy4kcm91dGUucGF0aC5zcGxpdCgiLyIpLmluY2x1ZGVzKCJsYXN0LXNpZ25hbHMiKSkgewogICAgICAgIHJldHVybiAiZGV0YWlscy1jb250ZW50IjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gImRldGFpbHMtbGFzdC1zaWduYWxzLWNvbnRlbnQiOwogICAgICB9CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyh7CiAgICAgIGdldFByb3NlY0RldmljZUJ5SWQ6ICJkZXZpY2UvZ2V0UHJvc2VjRGV2aWNlQnlJZCIsCiAgICAgIGdldFByb3NlY0RldmljZUxhc3RTaWduYWxzOiAiZGV2aWNlL2dldFByb3NlY0RldmljZUxhc3RTaWduYWxzIiwKICAgICAgZG93bmxvYWRQcm9zZWNEZXZpY2VMYXN0U2lnbmFsczogImRldmljZS9kb3dubG9hZFByb3NlY0RldmljZUxhc3RTaWduYWxzIiwKICAgIH0pLAogICAgaGFuZGxlTW9kYWxDbG9zZSh2YWwpIHsKICAgICAgdGhpcy5tb2RhbF92aXNpYmxlID0gdmFsOwogICAgfSwKICAgIG9wZW5Nb2RhbCh2YWwpIHsKICAgICAgdGhpcy5tb2RhbF92aXNpYmxlID0gdmFsOwogICAgfSwKICAgIGhhbmRsZUZpbHRlcmVkRGF0YSh2YWwpIHsKICAgICAgdGhpcy5maWx0ZXJlZF9kYXRhID0gdmFsOwogICAgfSwKICAgIGhhbmRsZURvd25sb2FkU2lnbmFsc0hpc3RvcnkoKSB7CiAgICAgIGxldCBkb3dubG9hZF9maWxlID0gdGhpcy5kb3dubG9hZFByb3NlY0RldmljZUxhc3RTaWduYWxzKAogICAgICAgIHRoaXMuZmlsdGVyZWRfZGF0YQogICAgICApOwogICAgICBkb3dubG9hZF9maWxlLnRoZW4oKHIpID0+IHsKICAgICAgICBsZXQgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgIGNvbnN0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtyXSkpOwogICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgbGluay5ocmVmID0gdXJsOwogICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKAogICAgICAgICAgImRvd25sb2FkIiwKICAgICAgICAgICJDaWhhei1HZWNtacWfLVNpbnlhbGxlcmktIiArCiAgICAgICAgICAgIGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCkgKwogICAgICAgICAgICAoIjAiICsgKGN1cnJlbnREYXRlLmdldE1vbnRoKCkgKyAxKSkuc2xpY2UoLTIpICsKICAgICAgICAgICAgKCIwIiArIGN1cnJlbnREYXRlLmdldERhdGUoKSkuc2xpY2UoLTIpICsKICAgICAgICAgICAgKCIwIiArIGN1cnJlbnREYXRlLmdldEhvdXJzKCkpLnNsaWNlKC0yKSArCiAgICAgICAgICAgICgiMCIgKyBjdXJyZW50RGF0ZS5nZXRNaW51dGVzKCkpLnNsaWNlKC0yKSArCiAgICAgICAgICAgICgiMCIgKyBjdXJyZW50RGF0ZS5nZXRTZWNvbmRzKCkpLnNsaWNlKC0yKSArCiAgICAgICAgICAgICIueGxzeCIKICAgICAgICApOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICAgICAgbGluay5jbGljaygpOwogICAgICB9KTsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5kZXZpY2VfaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuZGV2aWNlX2lkOwogICAgbGV0IGRldmljZSA9IHRoaXMuZ2V0UHJvc2VjRGV2aWNlQnlJZCh0aGlzLmRldmljZV9pZCk7CiAgICBkZXZpY2UudGhlbigocikgPT4gewogICAgICB0aGlzLmRhdGEgPSByOwogICAgfSk7CiAgICBpZiAodGhpcy5pc0xhc3RTaWduYWxzKSB7CiAgICAgIHRoaXMuZ2V0UHJvc2VjRGV2aWNlU2lnbmFsc0hpc3RvcnkoewogICAgICAgIGRldmljZV9pZDogdGhpcy5kZXZpY2VfaWQsCiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLmlzTGFzdFNpZ25hbHMpIHsKICAgICAgbGV0IGRldmljZV9zaWduYWxzID0gdGhpcy5nZXRQcm9zZWNEZXZpY2VMYXN0U2lnbmFscyh7CiAgICAgICAgZGV2aWNlX2lkOiB0aGlzLmRldmljZV9pZCwKICAgICAgfSk7CiAgICAgIGRldmljZV9zaWduYWxzLnRoZW4oKHIpID0+IHsKICAgICAgICB0aGlzLmRhdGEgPSByOwogICAgICB9KTsKICAgIH0KICB9LAp9Owo="},{"version":3,"sources":["device-detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"device-detail.vue","sourceRoot":"src/views/Devices/Hap","sourcesContent":["<template>\n  <div :class=\"getRouteForClass\">\n    <DeviceDetailsHeader :premise_information=\"data\"></DeviceDetailsHeader>\n    <DeviceDetailsTitle\n      @onDownloadSignalsHistory=\"handleDownloadSignalsHistory\"\n      @onServiceModal=\"openModal\"\n    ></DeviceDetailsTitle>\n    <DeviceLastSignals\n      v-if=\"isLastSignals\"\n      @filterData=\"handleFilteredData\"\n    ></DeviceLastSignals>\n    <DeviceDetailsContent v-else :data=\"data\"></DeviceDetailsContent>\n    <SentinelModal\n      @onClose=\"handleModalClose\"\n      :drawer=\"modal_visible\"\n      :type=\"'service'\"\n    ></SentinelModal>\n  </div>\n</template>\n\n<script>\nimport SentinelModal from \"@/components/modal/sentinel-modal.vue\";\nimport DeviceLastSignals from \"@/components/device-details/hap/device-last-signals.vue\";\nimport DeviceDetailsHeader from \"@/components/device-details/device-details-header.vue\";\nimport DeviceDetailsTitle from \"@/components/device-details/device-details-title.vue\";\nimport DeviceDetailsContent from \"@/components/device-details/device-details-content.vue\";\nimport { mapActions } from \"vuex\";\nexport default {\n  name: \"DeviceDetail\",\n  components: {\n    DeviceDetailsHeader,\n    DeviceDetailsTitle,\n    DeviceDetailsContent,\n    DeviceLastSignals,\n    SentinelModal,\n  },\n  data() {\n    return {\n      device_id: null,\n      data: [],\n      premise: {},\n      is_last_signals: false,\n      filtered_data: {},\n      modal_visible: false,\n    };\n  },\n  computed: {\n    isLastSignals() {\n      return this.$route.path.split(\"/\").includes(\"last-signals\");\n    },\n    getRouteForClass: function () {\n      if (!this.$route.path.split(\"/\").includes(\"last-signals\")) {\n        return \"details-content\";\n      } else {\n        return \"details-last-signals-content\";\n      }\n    },\n  },\n  methods: {\n    ...mapActions({\n      getProsecDeviceById: \"device/getProsecDeviceById\",\n      getProsecDeviceLastSignals: \"device/getProsecDeviceLastSignals\",\n      downloadProsecDeviceLastSignals: \"device/downloadProsecDeviceLastSignals\",\n    }),\n    handleModalClose(val) {\n      this.modal_visible = val;\n    },\n    openModal(val) {\n      this.modal_visible = val;\n    },\n    handleFilteredData(val) {\n      this.filtered_data = val;\n    },\n    handleDownloadSignalsHistory() {\n      let download_file = this.downloadProsecDeviceLastSignals(\n        this.filtered_data\n      );\n      download_file.then((r) => {\n        let currentDate = new Date();\n        const url = window.URL.createObjectURL(new Blob([r]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\n          \"download\",\n          \"Cihaz-GecmiÅŸ-Sinyalleri-\" +\n            currentDate.getFullYear() +\n            (\"0\" + (currentDate.getMonth() + 1)).slice(-2) +\n            (\"0\" + currentDate.getDate()).slice(-2) +\n            (\"0\" + currentDate.getHours()).slice(-2) +\n            (\"0\" + currentDate.getMinutes()).slice(-2) +\n            (\"0\" + currentDate.getSeconds()).slice(-2) +\n            \".xlsx\"\n        );\n        document.body.appendChild(link);\n        link.click();\n      });\n    },\n  },\n  created() {\n    this.device_id = this.$route.params.device_id;\n    let device = this.getProsecDeviceById(this.device_id);\n    device.then((r) => {\n      this.data = r;\n    });\n    if (this.isLastSignals) {\n      this.getProsecDeviceSignalsHistory({\n        device_id: this.device_id,\n      });\n    }\n  },\n  mounted() {\n    if (this.isLastSignals) {\n      let device_signals = this.getProsecDeviceLastSignals({\n        device_id: this.device_id,\n      });\n      device_signals.then((r) => {\n        this.data = r;\n      });\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.details-content {\n  display: flex;\n  flex-direction: column;\n  // justify-content: space-between;\n  padding: 0 36px 0 36px;\n  overflow: none;\n}\n.details-last-signals-content {\n  display: flex;\n  flex-direction: column;\n  // min-height: 100vh !important;\n\n  // justify-content: space-between;\n  padding: 0 0 0 13px;\n}\n.bottom {\n  padding: 34px;\n  min-height: 25px;\n  background: rgba(160, 160, 160, 0.1);\n}\n</style>\n"]}]}