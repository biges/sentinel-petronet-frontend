{"remainingRequest":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/halilibrahimguneri/Biges/sentinel-frontend/src/views/Devices/Hap/device-detail.vue?vue&type=style&index=0&id=74c13994&lang=scss&scoped=true&","dependencies":[{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/src/views/Devices/Hap/device-detail.vue","mtime":1635753564613},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/css-loader/dist/cjs.js","mtime":1635753867543},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1635753858188},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/postcss-loader/src/index.js","mtime":1635753861412},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/sass-loader/dist/cjs.js","mtime":1635753860226},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635753868455},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/vue-loader/lib/index.js","mtime":1635753858171}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5kZXRhaWxzLWNvbnRlbnQgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAvLyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgcGFkZGluZzogMCAzNnB4IDAgMzZweDsKICBvdmVyZmxvdzogbm9uZTsKfQouZGV0YWlscy1sYXN0LXNpZ25hbHMtY29udGVudCB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIC8vIG1pbi1oZWlnaHQ6IDEwMHZoICFpbXBvcnRhbnQ7CgogIC8vIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICBwYWRkaW5nOiAwIDAgMCAxM3B4Owp9Ci5ib3R0b20gewogIHBhZGRpbmc6IDM0cHg7CiAgbWluLWhlaWdodDogMjVweDsKICBiYWNrZ3JvdW5kOiByZ2JhKDE2MCwgMTYwLCAxNjAsIDAuMSk7Cn0K"},{"version":3,"sources":["device-detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"device-detail.vue","sourceRoot":"src/views/Devices/Hap","sourcesContent":["<template>\n  <div :class=\"getRouteForClass\">\n    <DeviceDetailsHeader :premise_information=\"data\"></DeviceDetailsHeader>\n    <DeviceDetailsTitle\n      @onDownloadSignalsHistory=\"handleDownloadSignalsHistory\"\n      @onServiceModal=\"openModal\"\n    ></DeviceDetailsTitle>\n    <DeviceLastSignals\n      v-if=\"isLastSignals\"\n      @filterData=\"handleFilteredData\"\n    ></DeviceLastSignals>\n    <DeviceDetailsContent v-else :data=\"data\"></DeviceDetailsContent>\n    <SentinelModal\n      @onClose=\"handleModalClose\"\n      :drawer=\"modal_visible\"\n      :type=\"'service'\"\n    ></SentinelModal>\n  </div>\n</template>\n\n<script>\nimport SentinelModal from \"@/components/modal/sentinel-modal.vue\";\nimport DeviceLastSignals from \"@/components/device-details/hap/device-last-signals.vue\";\nimport DeviceDetailsHeader from \"@/components/device-details/device-details-header.vue\";\nimport DeviceDetailsTitle from \"@/components/device-details/device-details-title.vue\";\nimport DeviceDetailsContent from \"@/components/device-details/device-details-content.vue\";\nimport { mapActions } from \"vuex\";\nexport default {\n  name: \"DeviceDetail\",\n  components: {\n    DeviceDetailsHeader,\n    DeviceDetailsTitle,\n    DeviceDetailsContent,\n    DeviceLastSignals,\n    SentinelModal,\n  },\n  data() {\n    return {\n      device_id: null,\n      data: [],\n      premise: {},\n      is_last_signals: false,\n      filtered_data: {},\n      modal_visible: false,\n    };\n  },\n  computed: {\n    isLastSignals() {\n      return this.$route.path.split(\"/\").includes(\"last-signals\");\n    },\n    getRouteForClass: function () {\n      if (!this.$route.path.split(\"/\").includes(\"last-signals\")) {\n        return \"details-content\";\n      } else {\n        return \"details-last-signals-content\";\n      }\n    },\n  },\n  methods: {\n    ...mapActions({\n      getProsecDeviceById: \"device/getProsecDeviceById\",\n      getProsecDeviceLastSignals: \"device/getProsecDeviceLastSignals\",\n      downloadProsecDeviceLastSignals: \"device/downloadProsecDeviceLastSignals\",\n    }),\n    handleModalClose(val) {\n      this.modal_visible = val;\n    },\n    openModal(val) {\n      this.modal_visible = val;\n    },\n    handleFilteredData(val) {\n      this.filtered_data = val;\n    },\n    handleDownloadSignalsHistory() {\n      let download_file = this.downloadProsecDeviceLastSignals(\n        this.filtered_data\n      );\n      download_file.then((r) => {\n        let currentDate = new Date();\n        const url = window.URL.createObjectURL(new Blob([r]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\n          \"download\",\n          \"Cihaz-GecmiÅŸ-Sinyalleri-\" +\n            currentDate.getFullYear() +\n            (\"0\" + (currentDate.getMonth() + 1)).slice(-2) +\n            (\"0\" + currentDate.getDate()).slice(-2) +\n            (\"0\" + currentDate.getHours()).slice(-2) +\n            (\"0\" + currentDate.getMinutes()).slice(-2) +\n            (\"0\" + currentDate.getSeconds()).slice(-2) +\n            \".xlsx\"\n        );\n        document.body.appendChild(link);\n        link.click();\n      });\n    },\n  },\n  created() {\n    this.device_id = this.$route.params.device_id;\n    let device = this.getProsecDeviceById(this.device_id);\n    device.then((r) => {\n      this.data = r;\n    });\n    if (this.isLastSignals) {\n      this.getProsecDeviceSignalsHistory({\n        device_id: this.device_id,\n      });\n    }\n  },\n  mounted() {\n    if (this.isLastSignals) {\n      let device_signals = this.getProsecDeviceLastSignals({\n        device_id: this.device_id,\n      });\n      device_signals.then((r) => {\n        this.data = r;\n      });\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.details-content {\n  display: flex;\n  flex-direction: column;\n  // justify-content: space-between;\n  padding: 0 36px 0 36px;\n  overflow: none;\n}\n.details-last-signals-content {\n  display: flex;\n  flex-direction: column;\n  // min-height: 100vh !important;\n\n  // justify-content: space-between;\n  padding: 0 0 0 13px;\n}\n.bottom {\n  padding: 34px;\n  min-height: 25px;\n  background: rgba(160, 160, 160, 0.1);\n}\n</style>\n"]}]}