{"remainingRequest":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/babel-loader/lib/index.js!/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/halilibrahimguneri/Biges/sentinel-frontend/src/router/middleware-auth.js","dependencies":[{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/src/router/middleware-auth.js","mtime":1635753564611},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBzdG9yZSBmcm9tICIuLi9zdG9yZS9pbmRleC5qcyI7CmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGNvbnNvbGUubG9nKHRvKTsKICB2YXIgYXV0aCA9IHN0b3JlLnN0YXRlLmF1dGg7CiAgY29uc29sZS5sb2coYXV0aCk7CiAgdmFyIGlzTG9nZ2VkSW4gPSBzdG9yZS5nZXR0ZXJzWyJhdXRoL2lzTG9nZ2VkSW4iXTsKICB2YXIgaXNVbmRlZmluZWQgPSB0eXBlb2YgdG8ubmFtZSA9PT0gInVuZGVmaW5lZCI7CiAgY29uc29sZS5sb2coaXNMb2dnZWRJbik7CiAgY29uc29sZS5sb2coaXNVbmRlZmluZWQpOwogIHZhciBxdWVyeVJlZGlyZWN0ID0gdG8ucXVlcnkucmVkaXJlY3Q7CgogIGlmIChpc1VuZGVmaW5lZCkgewogICAgaWYgKCFpc0xvZ2dlZEluKSB7CiAgICAgIG5leHQoewogICAgICAgIG5hbWU6ICJMb2dpbiIKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBpZiAocXVlcnlSZWRpcmVjdCkgbmV4dCh7CiAgICAgICAgbmFtZTogcXVlcnlSZWRpcmVjdAogICAgICB9KTsKICAgICAgbmV4dCh7CiAgICAgICAgbmFtZTogIkludGVncmF0b3IiCiAgICAgIH0pOwogICAgfQogIH0KCiAgaWYgKGlzTG9nZ2VkSW4pIHsKICAgIGlmIChxdWVyeVJlZGlyZWN0KSBuZXh0KHsKICAgICAgbmFtZTogIkRhc2hib2FyZCIKICAgIH0pOwogICAgaWYgKCFxdWVyeVJlZGlyZWN0ICYmIHRvLm5hbWUgPT0gIkxvZ2luIikgbmV4dCh7CiAgICAgIG5hbWU6ICJEYXNoYm9hcmQiCiAgICB9KTsKICAgIG5leHQoKTsKICB9IGVsc2UgewogICAgaWYgKHRvLm1ldGEubGF5b3V0ID09ICJhdXRoIikgewogICAgICB2YXIgcGF5bG9hZCA9IHsKICAgICAgICBuYW1lOiAiTG9naW4iLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICByZWRpcmVjdDogcXVlcnlSZWRpcmVjdAogICAgICAgIH0KICAgICAgfTsKICAgICAgaWYgKCFxdWVyeVJlZGlyZWN0KSBkZWxldGUgcGF5bG9hZC5xdWVyeS5yZWRpcmVjdDsKICAgICAgbmV4dChwYXlsb2FkKTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoKTsKICAgIH0KICB9Cn0="},{"version":3,"sources":["/Users/halilibrahimguneri/Biges/sentinel-frontend/src/router/middleware-auth.js"],"names":["store","to","from","next","console","log","auth","state","isLoggedIn","getters","isUndefined","name","queryRedirect","query","redirect","meta","layout","payload"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,mBAAlB;AAEA,eAAe,UAAUC,EAAV,EAAcC,IAAd,EAAoBC,IAApB,EAA0B;AACvCC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,EAAZ;AACA,MAAMK,IAAI,GAAGN,KAAK,CAACO,KAAN,CAAYD,IAAzB;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACA,MAAME,UAAU,GAAGR,KAAK,CAACS,OAAN,CAAc,iBAAd,CAAnB;AACA,MAAIC,WAAW,GAAG,OAAOT,EAAE,CAACU,IAAV,KAAmB,WAArC;AACAP,EAAAA,OAAO,CAACC,GAAR,CAAYG,UAAZ;AACAJ,EAAAA,OAAO,CAACC,GAAR,CAAYK,WAAZ;AAEA,MAAME,aAAa,GAAGX,EAAE,CAACY,KAAH,CAASC,QAA/B;;AAEA,MAAIJ,WAAJ,EAAiB;AACf,QAAI,CAACF,UAAL,EAAiB;AACfL,MAAAA,IAAI,CAAC;AAAEQ,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAJ;AACD,KAFD,MAEO;AACL,UAAIC,aAAJ,EAAmBT,IAAI,CAAC;AAAEQ,QAAAA,IAAI,EAAEC;AAAR,OAAD,CAAJ;AACnBT,MAAAA,IAAI,CAAC;AAAEQ,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAJ;AACD;AACF;;AAED,MAAIH,UAAJ,EAAgB;AACd,QAAII,aAAJ,EAAmBT,IAAI,CAAC;AAAEQ,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAJ;AACnB,QAAI,CAACC,aAAD,IAAkBX,EAAE,CAACU,IAAH,IAAW,OAAjC,EAA0CR,IAAI,CAAC;AAAEQ,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAJ;AAC1CR,IAAAA,IAAI;AACL,GAJD,MAIO;AACL,QAAIF,EAAE,CAACc,IAAH,CAAQC,MAAR,IAAkB,MAAtB,EAA8B;AAC5B,UAAIC,OAAO,GAAG;AACZN,QAAAA,IAAI,EAAE,OADM;AAEZE,QAAAA,KAAK,EAAE;AACLC,UAAAA,QAAQ,EAAEF;AADL;AAFK,OAAd;AAMA,UAAI,CAACA,aAAL,EAAoB,OAAOK,OAAO,CAACJ,KAAR,CAAcC,QAArB;AACpBX,MAAAA,IAAI,CAACc,OAAD,CAAJ;AACD,KATD,MASO;AACLd,MAAAA,IAAI;AACL;AACF;AACF","sourcesContent":["import store from \"../store/index.js\";\n\nexport default function (to, from, next) {\n  console.log(to);\n  const auth = store.state.auth;\n  console.log(auth);\n  const isLoggedIn = store.getters[\"auth/isLoggedIn\"];\n  let isUndefined = typeof to.name === \"undefined\";\n  console.log(isLoggedIn);\n  console.log(isUndefined);\n\n  const queryRedirect = to.query.redirect;\n\n  if (isUndefined) {\n    if (!isLoggedIn) {\n      next({ name: \"Login\" });\n    } else {\n      if (queryRedirect) next({ name: queryRedirect });\n      next({ name: \"Integrator\" });\n    }\n  }\n\n  if (isLoggedIn) {\n    if (queryRedirect) next({ name: \"Dashboard\" });\n    if (!queryRedirect && to.name == \"Login\") next({ name: \"Dashboard\" });\n    next();\n  } else {\n    if (to.meta.layout == \"auth\") {\n      let payload = {\n        name: \"Login\",\n        query: {\n          redirect: queryRedirect,\n        },\n      };\n      if (!queryRedirect) delete payload.query.redirect;\n      next(payload);\n    } else {\n      next();\n    }\n  }\n}\n"]}]}