{"remainingRequest":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/babel-loader/lib/index.js!/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/halilibrahimguneri/Biges/sentinel-frontend/src/views/Settings/logs.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/src/views/Settings/logs.vue","mtime":1635753564614},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635753868455},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/babel-loader/lib/index.js","mtime":1635753869022},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635753868455},{"path":"/Users/halilibrahimguneri/Biges/sentinel-frontend/node_modules/vue-loader/lib/index.js","mtime":1635753858171}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9oYWxpbGlicmFoaW1ndW5lcmkvQmlnZXMvc2VudGluZWwtZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvaGFsaWxpYnJhaGltZ3VuZXJpL0JpZ2VzL3NlbnRpbmVsLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCBMb2dzRmlsdGVyIGZyb20gIkAvY29tcG9uZW50cy9zZXR0aW5ncy9sb2dzLWZpbHRlci52dWUiOwppbXBvcnQgRGF0YVRhYmxlIGZyb20gIkAvY29tcG9uZW50cy9hdG9taWMvZGF0YS10YWJsZS52dWUiOwppbXBvcnQgRGF0YVRhYmxlUGFnaW5hdGlvbiBmcm9tICJAL2NvbXBvbmVudHMvYXRvbWljL2RhdGEtdGFibGUtcGFnaW5hdGlvbi52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ3MiLAogIGNvbXBvbmVudHM6IHsKICAgIERhdGFUYWJsZTogRGF0YVRhYmxlLAogICAgRGF0YVRhYmxlUGFnaW5hdGlvbjogRGF0YVRhYmxlUGFnaW5hdGlvbiwKICAgIExvZ3NGaWx0ZXI6IExvZ3NGaWx0ZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhOiBbXSwKICAgICAgZmlsdGVyRGF0YToge30sCiAgICAgIGlzX2ZpbHRlcmVkOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKHsKICAgIGdldEN1cnJlbnRQYWdlOiAicGFnaW5hdGlvbi9nZXRDdXJyZW50UGFnZSIsCiAgICBnZXRDdXJyZW50TGltaXQ6ICJwYWdpbmF0aW9uL2dldEN1cnJlbnRMaW1pdCIKICB9KSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKHsKICAgIGdldExvZ1JlY29yZHM6ICJsb2dzL2dldExvZ1JlY29yZHMiCiAgfSkpLCB7fSwgewogICAgaGFuZGxlRmlsdGVyOiBmdW5jdGlvbiBoYW5kbGVGaWx0ZXIodmFsKSB7CiAgICAgIHRoaXMuaXNfZmlsdGVyZWQgPSB0cnVlOwogICAgICB0aGlzLmZpbHRlckRhdGEgPSB7CiAgICAgICAgc3RhcnRfdGltZTogdmFsWzBdLAogICAgICAgIGZpbmlzaF90aW1lOiB2YWxbMV0KICAgICAgfTsKICAgICAgdGhpcy5nZXRVc2VyQWN0aXZpdGllcyhfb2JqZWN0U3ByZWFkKHsKICAgICAgICBsaW1pdDogMTAsCiAgICAgICAgcGFnZTogMQogICAgICB9LCB0aGlzLmZpbHRlckRhdGEpKTsKICAgIH0sCiAgICBoYW5kbGVDaGFuZ2VQYWdpbmF0aW9uOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2VQYWdpbmF0aW9uKCkgewogICAgICB0aGlzLmRhdGEgPSBbXTsKICAgICAgdGhpcy5nZXRVc2VyQWN0aXZpdGllcyhfb2JqZWN0U3ByZWFkKHsKICAgICAgICBwYWdlOiB0aGlzLmdldEN1cnJlbnRQYWdlLAogICAgICAgIGxpbWl0OiB0aGlzLmdldEN1cnJlbnRMaW1pdAogICAgICB9LCB0aGlzLmZpbHRlckRhdGEpKTsKICAgIH0sCiAgICBnZXRVc2VyQWN0aXZpdGllczogZnVuY3Rpb24gZ2V0VXNlckFjdGl2aXRpZXMocGF5bG9hZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgbG9nczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBsb2dzID0gX3RoaXMuZ2V0TG9nUmVjb3JkcyhwYXlsb2FkKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGxvZ3MudGhlbihmdW5jdGlvbiAocikgewogICAgICAgICAgICAgICAgICByZXR1cm4gci5mb3JFYWNoKGZ1bmN0aW9uIChyZWNvcmQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gewogICAgICAgICAgICAgICAgICAgICAgdXNlcjogcmVjb3JkLnVzZXIgPyByZWNvcmQudXNlci51c2VybmFtZSA6ICJLdWxsYW7EsWPEsSBBdGFubWFtxLHFnyIsCiAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVjb3JkLmFjdGl2aXR5LAogICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZF9hdDogbW9tZW50KHJlY29yZC5jcmVhdGVkX2F0KS5mb3JtYXQoIkRELk1NLllZWVkgSEg6bW0iKQogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIF90aGlzLmRhdGEucHVzaChyb3cpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0pLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFVzZXJBY3Rpdml0aWVzKHsKICAgICAgcGFnZTogMSwKICAgICAgbGltaXQ6IDIwCiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["logs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAcA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,OAAA,MAAA,MAAA,QAAA;AACA,OAAA,UAAA,MAAA,uCAAA;AACA,OAAA,SAAA,MAAA,oCAAA;AACA,OAAA,mBAAA,MAAA,+CAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,mBAAA,EAAA,mBAFA;AAGA,IAAA,UAAA,EAAA;AAHA,GAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,WAAA,EAAA;AAHA,KAAA;AAKA,GAbA;AAcA,EAAA,QAAA,oBACA,UAAA,CAAA;AACA,IAAA,cAAA,EAAA,2BADA;AAEA,IAAA,eAAA,EAAA;AAFA,GAAA,CADA,CAdA;AAoBA,EAAA,OAAA,kCACA,UAAA,CAAA;AACA,IAAA,aAAA,EAAA;AADA,GAAA,CADA;AAIA,IAAA,YAJA,wBAIA,GAJA,EAIA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,WAAA,UAAA,GAAA;AACA,QAAA,UAAA,EAAA,GAAA,CAAA,CAAA,CADA;AAEA,QAAA,WAAA,EAAA,GAAA,CAAA,CAAA;AAFA,OAAA;AAIA,WAAA,iBAAA;AAAA,QAAA,KAAA,EAAA,EAAA;AAAA,QAAA,IAAA,EAAA;AAAA,SAAA,KAAA,UAAA;AACA,KAXA;AAYA,IAAA,sBAZA,oCAYA;AACA,WAAA,IAAA,GAAA,EAAA;AACA,WAAA,iBAAA;AACA,QAAA,IAAA,EAAA,KAAA,cADA;AAEA,QAAA,KAAA,EAAA,KAAA;AAFA,SAGA,KAAA,UAHA;AAKA,KAnBA;AAoBA,IAAA,iBApBA,6BAoBA,OApBA,EAoBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,IADA,GACA,KAAA,CAAA,aAAA,CAAA,OAAA,CADA;AAAA,iDAEA,IAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA;AACA,yBAAA,CAAA,CAAA,OAAA,CAAA,UAAA,MAAA,EAAA;AACA,wBAAA,GAAA,GAAA;AACA,sBAAA,IAAA,EAAA,MAAA,CAAA,IAAA,GAAA,MAAA,CAAA,IAAA,CAAA,QAAA,GAAA,qBADA;AAEA,sBAAA,WAAA,EAAA,MAAA,CAAA,QAFA;AAGA,sBAAA,UAAA,EAAA,MAAA,CAAA,MAAA,CAAA,UAAA,CAAA,CAAA,MAAA,CAAA,kBAAA;AAHA,qBAAA;;AAKA,oBAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA;AACA,mBAPA,CAAA;AAQA,iBATA,CAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAhCA,IApBA;AAsDA,EAAA,OAtDA,qBAsDA;AACA,SAAA,iBAAA,CAAA;AACA,MAAA,IAAA,EAAA,CADA;AAEA,MAAA,KAAA,EAAA;AAFA,KAAA;AAIA;AA3DA,CAAA","sourcesContent":["<template>\n  <div class=\"content\">\n    <LogsFilter class=\"filter\" @onHandleFiltre=\"handleFilter\"></LogsFilter>\n    <DataTable :data=\"data\"></DataTable>\n    <DataTablePagination\n      class=\"bottom\"\n      @onChangeCurrentPage=\"handleChangePagination\"\n      @onChangeSize=\"handleChangePagination\"\n    ></DataTablePagination>\n    <!-- :paginate=\"pagination\" -->\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\nimport moment from \"moment\";\nimport LogsFilter from \"@/components/settings/logs-filter.vue\";\nimport DataTable from \"@/components/atomic/data-table.vue\";\nimport DataTablePagination from \"@/components/atomic/data-table-pagination.vue\";\nexport default {\n  name: \"Logs\",\n  components: {\n    DataTable,\n    DataTablePagination,\n    LogsFilter,\n  },\n  data() {\n    return {\n      data: [],\n      filterData: {},\n      is_filtered: false,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      getCurrentPage: \"pagination/getCurrentPage\",\n      getCurrentLimit: \"pagination/getCurrentLimit\",\n    }),\n  },\n  methods: {\n    ...mapActions({\n      getLogRecords: \"logs/getLogRecords\",\n    }),\n    handleFilter(val) {\n      this.is_filtered = true;\n      this.filterData = {\n        start_time: val[0],\n        finish_time: val[1],\n      };\n      this.getUserActivities({ limit: 10, page: 1, ...this.filterData });\n    },\n    handleChangePagination() {\n      this.data = [];\n      this.getUserActivities({\n        page: this.getCurrentPage,\n        limit: this.getCurrentLimit,\n        ...this.filterData,\n      });\n    },\n    async getUserActivities(payload) {\n      let logs = this.getLogRecords(payload);\n      return logs.then((r) => {\n        return r.forEach((record) => {\n          let row = {\n            user: record.user ? record.user.username : \"Kullanıcı Atanmamış\",\n            description: record.activity,\n            created_at: moment(record.created_at).format(\"DD.MM.YYYY HH:mm\"),\n          };\n          this.data.push(row);\n        });\n      });\n    },\n  },\n  created() {\n    this.getUserActivities({\n      page: 1,\n      limit: 20,\n    });\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.content {\n  height: 100vh;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  padding: 0px 0px 0px 13px;\n  .bottom {\n    position: relative;\n    padding: 34px;\n    min-height: 25px;\n    background: rgba(160, 160, 160, 0.1);\n  }\n}\n</style>\n"],"sourceRoot":"src/views/Settings"}]}